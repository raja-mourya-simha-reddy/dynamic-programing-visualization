<!DOCTYPE html>
<html>
    <head>
    <title>recursion</title>
    <style>
        body{
            height: 100vh;
            width: 100vw;
             display: flex;
             background-color: blue;
             justify-content: center;
             align-items: center;
             
        }
        #grid{
            display:grid;
            grid-template-columns: auto auto auto auto;
            background-color: grey;
            height: 200px;
            width: 200px;
                    }
        .grid-item {
  background-color: grey;
  border: 1px solid rgba(0, 0, 0, 0.8);
  padding: 10px;
  font-size: 20px;
  text-align: center;
}
    </style>
    <script>
        var judges = Array(4).fill(null).map(() => Array(4));
        var bestscore = Array(4).fill(null).map(() => Array(4));
let n=4,mx=1000000000,ms=0;
function max(a,b){
    if(a>b)return a;
    else return b;
}
 
function maxscore(row,col)
{
    if(col==n-1&&row==n-1) {   
        ms+=2000;
        setTimeout(function(){  
        document.getElementById(row.toString()+col.toString()).style.backgroundColor="red";
    }, ms);
        return 0;
}
    if(bestscore[row][col]!=mx) {
        ms+=2000;
        setTimeout(function(){
            document.getElementById('m'+row.toString()+col.toString()).style.backgroundColor="lime";    
            
}, ms);
        return bestscore[row][col];
    
    }
    var a=-1000000000,b=-1000000000;
    if(col+1<n)
      {ms+=2000;
        setTimeout(function(){
            document.getElementById(row.toString()+col.toString()).style.backgroundColor="rgba(255, 0, 0, 0.8)";    
            
}, ms);
a=judges[row][col]+maxscore(row,col+1);
        
        
    }
    if(row+1<n)
      {ms+=2000;
        setTimeout(function(){
            document.getElementById(row.toString()+col.toString()).style.color="white";    
            
}, ms);
        b=judges[row][col]+maxscore(row+1,col);
    
    }
    ms+=2000;
        setTimeout(function(){
            document.getElementById('m'+row.toString()+col.toString()).style.backgroundColor="green";    
            document.getElementById('m'+row.toString()+col.toString()).innerText =max(a,b);
}, ms);
    return  bestscore[row][col]=max(a,b);
}
function submit(){
var str = document.getElementById("fin").value;
var len= str.length;
 var m=0;
	    for( i=0;i<n;i++)
	    {
	        for( j=0;j<n;j++)
	        {   judges[i][j] ="";
                while(str[m]!=' '&&str[m]!='\n'&&m!=len)
                {
                    judges[i][j] = judges[i][j]+str[m];
                    m++;
                }
                m++;         
	            document.getElementById(i.toString()+j.toString()).innerText=judges[i][j];
                judges[i][j]=parseInt(judges[i][j]);
	            bestscore[i][j]=mx;
                document.getElementById("m"+i.toString()+j.toString()).innerText="10..";
	        }
	    }
 
	   var max =  maxscore(0,0);
    //alert(max);
}
 
    </script>
    </head>
    <textarea id="fin" rows="13" cols="20" style="font-size:30px; resize: none; height: 200px;width:200px; text-align: center; "></textarea>
    <button onclick="submit()">enter</button>
    <body>
        
     <div id="grid">
        <div class="grid-item" id="00">S</div>
        <div class="grid-item" id="01">2</div>
        <div class="grid-item" id="02">3</div>
        <div class="grid-item" id="03">4</div>
        <div class="grid-item" id="10">5</div>
        <div class="grid-item" id="11">6</div>
        <div class="grid-item" id="12">7</div>
        <div class="grid-item" id="13">8</div>
        <div class="grid-item" id="20">9</div>
        <div class="grid-item" id="21">10</div>
        <div class="grid-item" id="22">11</div>
        <div class="grid-item" id="23">12</div>
        <div class="grid-item" id="30">13</div>
        <div class="grid-item" id="31">14</div>
        <div class="grid-item" id="32">15</div>
        <div class="grid-item" id="33">E</div>

     </div>
     <div style="height: 10px; width: 10px;"></div>
     <div id="grid">
        <div class="grid-item" id="m00">S</div>
        <div class="grid-item" id="m01">2</div>
        <div class="grid-item" id="m02">3</div>
        <div class="grid-item" id="m03">4</div>
        <div class="grid-item" id="m10">5</div>
        <div class="grid-item" id="m11">6</div>
        <div class="grid-item" id="m12">7</div>
        <div class="grid-item" id="m13">8</div>
        <div class="grid-item" id="m20">9</div>
        <div class="grid-item" id="m21">10</div>
        <div class="grid-item" id="m22">11</div>
        <div class="grid-item" id="m23">12</div>
        <div class="grid-item" id="m30">13</div>
        <div class="grid-item" id="m31">14</div>
        <div class="grid-item" id="m32">15</div>
        <div class="grid-item" id="m33">E</div>
     </div>
    </body>
</html>